<?xml version="1.0" encoding="UTF-8"?>
 <!--
	Import per project custom build rules if present at the root of the project.
	This is the place to put custom intermediary targets such as:
		-pre-build
		-pre-compile
		-post-compile (This is typically used for code obfuscation.
					   Compiled code location: ${out.classes.absolute.dir}
					   If this is not done in place, override ${out.dex.input.absolute.dir})
		-post-package
		-post-build
		-pre-clean
-->
<project name="xmlproperty-demo" default="init">
	<xmlproperty file="assets/www/config.xml" collapseAttributes="true" />

    <target name="-pre-clean">
		<echo message="replace javascript implementations"/>
		<property name="newValue" value="${widget.phonegapImplementation.Config}"/>
		<property name="oldValue" value="${widget.testingImplementation.Config}"/>
		<antcall target="repl"/>
    </target>

	<target name="repl">
		<echo file="runner.csh" append="false" message='replac: [${oldValue}] with [${newValue}]'/>
		<replace file="assets/www/main.html" token="${oldValue}" value="${newValue}"/>
		<replace file="assets/www/js/index.js" token="${oldValue}" value="${newValue}"/>
	</target>
</project>